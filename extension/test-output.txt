
> cognee-chat-memory@0.2.3 pretest
> npm run compile:tests


> cognee-chat-memory@0.2.3 compile:tests
> tsc -p tsconfig.test.json


> cognee-chat-memory@0.2.3 test
> node ./out/test/runTest.js

- Resolving version...
‚úî Validated version: 1.106.1
- Found at https://update.code.visualstudio.com/1.106.1/linux-x64/stable?released=true
‚úî Found at https://update.code.visualstudio.com/1.106.1/linux-x64/stable?released=true
- Downloading (153.98 MB)
‚úî Downloaded VS Code into /home/luke/Documents/Github-projects/cognee/extension/.vscode-test/vscode-linux-x64-1.106.1
[90m[main 2025-11-18T10:32:57.778Z][0m update#setState disabled
[90m[main 2025-11-18T10:32:57.780Z][0m update#ctor - updates are disabled by the environment
ChatSessionStore: Migrating 0 chat sessions from storage service to file system
Started local extension host with pid 1526943.
Loading development extension at /home/luke/Documents/Github-projects/cognee/extension
MCP Registry configured: https://api.mcp.github.com
Settings Sync: Account status changed from uninitialized to unavailable
[0m[0m
[0m  summaryTemplate[0m
[0m    validateSummary[0m
Cognee Chat Memory extension activated
    [32m  ‚úî[0m[90m accepts valid summary with all required fields[0m
    [32m  ‚úî[0m[90m rejects summary without topic[0m
    [32m  ‚úî[0m[90m rejects summary without context[0m
    [32m  ‚úî[0m[90m rejects summary with invalid status[0m
    [32m  ‚úî[0m[90m rejects summary without topicId[0m
[0m    formatSummaryAsText[0m
    [32m  ‚úî[0m[90m formats summary with all fields populated[0m
    [32m  ‚úî[0m[90m formats summary with empty list fields[0m
    [32m  ‚úî[0m[90m throws error for invalid summary[0m
[0m    createDefaultSummary[0m
    [32m  ‚úî[0m[90m creates summary with minimal required fields[0m
    [32m  ‚úî[0m[90m generates topic ID from topic string[0m
    [32m  ‚úî[0m[90m handles special characters in topic[0m
[0m  summaryParser[0m
[0m    parseSummaryFromText[0m
    [32m  ‚úî[0m[90m parses fully populated summary[0m
    [32m  ‚úî[0m[90m parses summary with empty sections[0m
    [32m  ‚úî[0m[90m parses summary with missing optional sections[0m
Failed to parse summary: missing Topic field
    [32m  ‚úî[0m[90m returns null for text without Topic[0m
Failed to parse summary: missing Context field
    [32m  ‚úî[0m[90m returns null for text without Context[0m
    [32m  ‚úî[0m[90m returns null for empty text[0m
    [32m  ‚úî[0m[90m handles multi-line list items[0m
[0m    validateRoundTrip[0m
    [32m  ‚úî[0m[90m validates successful round-trip[0m
Round-trip validation failed: topic mismatch
    [32m  ‚úî[0m[90m detects topic mismatch[0m
Round-trip validation failed: decisions mismatch
    [32m  ‚úî[0m[90m detects decisions mismatch[0m
    [32m  ‚úî[0m[90m handles empty arrays correctly[0m
[0m    parseEmbeddedMetadata[0m
    [32m  ‚úî[0m[90m extracts timestamp and importance[0m
    [32m  ‚úî[0m[90m handles missing metadata[0m
    [32m  ‚úî[0m[90m handles partial metadata[0m
[0m  @cognee-memory Participant Integration (captured via API stubs)[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== @cognee-memory participant invoked ===
User query: What did we do?
  [32m  ‚úî[0m[90m Disabled state: streams disabled message and returns metadata[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== @cognee-memory participant invoked ===
User query: question
Retrieval failed: Error: backend down
	at Context.<anonymous> (/home/luke/Documents/Github-projects/cognee/extension/out/test/participant.integration.test.js:140:30)
	at callFn (/home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runnable.js:366:21)
	at Runnable.run (/home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runnable.js:354:5)
	at Runner.runTest (/home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runner.js:719:10)
	at /home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runner.js:842:12
	at next (/home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runner.js:634:14)
	at /home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runner.js:644:7
	at next (/home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runner.js:527:14)
	at cbHookRun (/home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runner.js:592:7)
	at done (/home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runnable.js:310:5)
	at /home/luke/Documents/Github-projects/cognee/extension/node_modules/mocha/lib/runnable.js:371:11
Generated response length: 12
=== STEP 6: Capturing conversation for feedback loop ===
‚ÑπÔ∏è Step 6 automatic ingestion disabled (enable via cogneeMemory.autoIngestConversations)
  [32m  ‚úî[0m[90m Retrieval failure: degrades gracefully and still generates response[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== @cognee-memory participant invoked ===
User query: How did we implement caching?
Retrieved 2 memories in 0ms
Augmented prompt length: 158
Generated response length: 12
=== STEP 6: Capturing conversation for feedback loop ===
‚ÑπÔ∏è Step 6 automatic ingestion disabled (enable via cogneeMemory.autoIngestConversations)
  [32m  ‚úî[0m[90m Success path: previews memories, augments prompt, streams response[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== @cognee-memory participant invoked ===
User query: Show long memory sample
Retrieved 1 memories in 0ms
Augmented prompt length: 2591
Generated response length: 12
=== STEP 6: Capturing conversation for feedback loop ===
‚ÑπÔ∏è Step 6 automatic ingestion disabled (enable via cogneeMemory.autoIngestConversations)
  [32m  ‚úî[0m[90m Memory previews include character counts and truncation indicator when exceeding 2000 chars[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== @cognee-memory participant invoked ===
User query: Show medium memory
Retrieved 1 memories in 0ms
Augmented prompt length: 586
Generated response length: 12
=== STEP 6: Capturing conversation for feedback loop ===
‚ÑπÔ∏è Step 6 automatic ingestion disabled (enable via cogneeMemory.autoIngestConversations)
  [32m  ‚úî[0m[90m Memory previews include character counts without truncation when under 2000 chars[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== @cognee-memory participant invoked ===
User query: Question
Retrieved 1 memories in 0ms
Augmented prompt length: 82
Generated response length: 12
=== STEP 6: Capturing conversation for feedback loop ===
‚úÖ Conversation captured for feedback loop
  [32m  ‚úî[0m[90m Step 6 auto-ingest: gated by configuration flag[0m
[0m  Commands Integration (no production changes)[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== VALIDATION 1: Capture Command Test (Fallback Approach) ===
Command triggered via keyboard shortcut or command palette
Using user input: Discussed Redis caching with TTL=900s
Testing ingestion...
  [32m  ‚úî[0m[90m Capture command uses user input when provided and ingests[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== VALIDATION 1: Capture Command Test (Fallback Approach) ===
Command triggered via keyboard shortcut or command palette
Using clipboard content: Clipboard content to capture
Testing ingestion...
  [32m  ‚úî[0m[90m Capture command falls back to clipboard when input empty[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
=== VALIDATION 1: Capture Command Test (Fallback Approach) ===
Command triggered via keyboard shortcut or command palette
  [32m  ‚úî[0m[90m Capture command warns when no input and empty clipboard[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
  [32m  ‚úî[0m[90m Toggle command flips enabled flag in workspace configuration[0m
Cognee Chat Memory extension activated
Cognee client initialized successfully
=== MILESTONE 2: Registering @cognee-memory Chat Participant ===
‚úÖ @cognee-memory participant registered successfully
  [32m  ‚úî[0m[90m Clear command confirms and clears memory[0m
[0m  CogneeClient Test Suite[0m
[0m    detectPythonInterpreter[0m
    [32m  ‚úî[0m[90m Explicit config overrides auto-detection[0m
    [32m  ‚úî[0m[90m Detects .venv/bin/python on Linux/macOS[0m
    [32m  ‚úî[0m[90m Detects .venv/Scripts/python.exe on Windows[0m
    [32m  ‚úî[0m[90m Falls back to python3 when no venv found[0m
    [32m  ‚úî[0m[90m Handles permission errors gracefully[0m
    [32m  ‚úî[0m[90m Detection completes in <10ms[0m
[0m    sanitizeOutput[0m
    [32m  ‚úî[0m[90m Redacts LLM_API_KEY environment variable format (current)[0m
    [32m  ‚úî[0m[90m Redacts OPENAI_API_KEY environment variable format (legacy)[0m
    [32m  ‚úî[0m[90m Redacts OpenAI sk- style keys[0m
    [32m  ‚úî[0m[90m Redacts Bearer tokens[0m
    [32m  ‚úî[0m[90m Redacts AWS secret access keys[0m
    [32m  ‚úî[0m[90m Redacts long hex strings (32+ chars)[0m
    [32m  ‚úî[0m[90m Truncates output to 1KB maximum[0m
    [32m  ‚úî[0m[90m Passes through normal error messages (no false positives)[0m
    [32m  ‚úî[0m[90m Handles empty strings[0m
    [32m  ‚úî[0m[90m Handles multiple secret patterns in same text[0m
[0m    retrieve logging previews[0m
    [32m  ‚úî[0m[90m logs truncated query preview with total length when query exceeds 200 chars[0m
    [32m  ‚úî[0m[90m logs full query when length is 200 chars or less[0m
[0m    ingest metrics and error handling[0m
    [32m  ‚úî[0m[90m logs ingestion metrics on success and suppresses warning toast[0m
    [32m  ‚úî[0m[90m handles timeout errors with user-facing guidance[0m
    [32m  ‚úî[0m[90m handles non-timeout failures without warning toast[0m
[0m  CogneeClient Runtime Behaviors[0m
  [32m  ‚úî[0m[90m clearMemory deletes .cognee directory and returns true[0m
  [32m  ‚úî[0m[90m clearMemory returns true when no .cognee directory exists[0m
  [32m  ‚úî[0m[90m validateConfiguration reports missing .env, then passes when present[0m
[92m [0m[32m 60 passing[0m[90m (160ms)[0m
[90m[main 2025-11-18T10:32:59.876Z][0m Extension host with pid 1526943 exited with code: 0, signal: unknown.
Exit code:   0
